<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style/Authorisation.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,regular,500,600,700,800,900&display=swap"
        rel="stylesheet">
</head>

<body>

    <div class="firstScreen">
        <div class="item">
            <div class="container">

                <header class="header__container">
                    <a href="Authorisation.html" class="header__logoA" id='logo'>
                        <img src="./images/Authorisation/oggetto-logo_tonal-inverse-hor-eng 1.svg" class="header__logo">
                    </a>
                </header>

                <section class="main-page__container">
                    <div class="main__left-side">
                        <h1 class="left-side__tittle" id='text'>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ<br>–¥–ª—è<br>—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤</h1>
                        <div class="left-side__dialogs">
                            <div class="dialogs-first">
                                <p class="dialogs__text">–•–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é<br>–û–¥–∂–µ—Ç—Ç–æ?</p>
                            </div>
                            <div class="dialogs-second">
                                <p class="dialogs__text dialogs__text-second">–ü–æ–ª—É—á–∏–ª–∏ –Ω–∞—à–µ<br>–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ?</p>
                            </div>
                            <div class="dialogs-third">
                                <p class="dialogs__text">–¢–æ–≥–¥–∞ –í—ã –≤<br>–Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ! üòâ</p>
                            </div>
                        </div>
                        <p class="left-side__text">–ï—Å–ª–∏ –í—ã –Ω–µ –ø–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞,<br>–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –Ω–∞ –ø–æ—á—Ç—É
                            <u>academy@oggettoweb.com</u></p>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div class="secondScreen" id="secondScreen">
        <div class="item">
            <div class="container">
                <section class="main-page__container">
                    <div class="main__right-side">
                        <div class="right__eight first">
                            <div class="first__first">test</div>
                            <div class="first__second">test</div>
                            <div class="first__third">test</div>
                        </div>
                        <div class="right__eight second">
                            <div class="second__first">test</div>
                            <div class="second__second">test</div>
                        </div>
                        <div class="right__eight third">
                            <div class="third__first">test</div>
                            <div class="third__second">test</div>
                            <div class="third__third">test</div>
                        </div>
                        <div class="right__eight fourth">
                            <div class="fourth__first">test</div>
                            <div class="fourth__second">test</div>
                        </div>
                        <div class="right__eight fifth">
                            <div class="fifth__first">test</div>
                        </div>
                        <div class="right__eight sixth">
                            <div class="sixth__first">test</div>
                            <div class="sixth__second">test</div>
                        </div>
                        <div class="right__eight seventh">
                            <div class="seventh__first">test</div>
                        </div>
                        <div class="right__eight eights">
                            <div class="eights__first">test</div>
                            <div class="eights__second">test</div>
                        </div>
                        <div class="right__eight nineth">
                            <div class="nineth__first">test</div>
                            <div class="nineth__second">test</div>
                        </div>
                        <div class="right__eight tenth">
                            <div class="tenth__first">test</div>
                            <div class="tenth__second">test</div>
                            <div class="tenth__third">test</div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <section class="horizontal">
        <div class="pin-wrap">
            <div class="animation-wrap to-right">
                <div class="item">
                    <div class="container second-container">
                        <div class="main__right-side">
                            <div class="form-container">
                                <!-- <form action="#" class="right-side__form"> -->
                                    <div class="form-tittle__container">
                                        <h1 class="form__tittle">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h1>
                                    </div>
                                    <div class="subscription-inner">
                                        <img src="./images/Authorisation/logoLogin.svg" alt="" class="logoLogin">
                                        <input class="form__log" type="text" placeholder="Login" id="login" required>
                                    </div>
                                    <div class="subscription-inner">
                                        <img src="./images/Authorisation/logoPassword.svg" alt="" class="logoLogin">
                                        <input class="form__log" type="password" placeholder="Password" id="password"
                                            required>
                                    </div>
                                    <div class="buttons__container">
                                        <button class="form__button" id="toLogin" type="submit"
                                            name="LogIn">
                                            B-IT!
                                        </button>
                                        <!--<input class="form__button" id="toLogin" type="submit" value="LogIn"
                                            name="LogIn">
                                        <input class="form__button" id="SignUp" type="submit" value="SignUp"
                                            name="SignUp">-->
                                    </div>
                                <!-- </form> -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <div class="hide-page" id="hide-page">
        <div><img src="./images/DeviceRotate/deviceRotate.png" class="hide-image"></div>
        <h1 class="hide-text">Rotate your device horizontally</h1>
    </div>

    <script src="./scripts/DeviceScript/deviceScript.js"></script>
    <script type="module">
        
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.0/firebase-app.js";
    import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.17.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.17.0/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAsTpy0hlOYuLNy8v8Pdd-yVUTJOkfgdeQ",
      authDomain: "oggetto-test.firebaseapp.com",
      databaseURL: "https://oggetto-test-default-rtdb.firebaseio.com",
      projectId: "oggetto-test",
      storageBucket: "oggetto-test.appspot.com",
      messagingSenderId: "385710351413",
      appId: "1:385710351413:web:bd67cb22fe155c6f05fd7c"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
    const user = auth.currentUser;
    let toLogin=document.getElementById('toLogin')

//     signup.addEventListener('click', (e) => {

//       var email = document.getElementById('login').value;
//       var password = document.getElementById('password').value;

//       createUserWithEmailAndPassword(auth, email, password)
//   .then((userCredential) => {
//     // Signed in 
//     const user = userCredential.user;
    
//     set(ref(database, 'users/' + user.uid), {
//       password: password,
//       email: email
//     })
//     alert('user created');
//     // ...
//   })
//   .catch((error) => {
//     const errorCode = error.code;
//     const errorMessage = error.message;
//     // ..
//   });
//     })

    
    toLogin.addEventListener('click', (e) => {

      var email = document.getElementById('login').value;
      var password = document.getElementById('password').value;

      signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    const dt = new Date();

    update(ref(database, 'users/' + user.uid), {
      last_login: dt
    })
      window.location.href = "TestList.html";
  })

    })

    </script>
</body>

</html>